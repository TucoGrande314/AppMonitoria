CREATE TABLE MONITOR(raMonitor varchar(5) primary key,
					 nome varchar(50) not null,
					)
INSERT INTO MONITOR VALUES('16164', 'Felipe Martins')
INSERT INTO MONITOR VALUES('16173', 'Guilherme Brandt')
INSERT INTO MONITOR VALUES('16185', 'Lucas Hideki')
INSERT INTO MONITOR VALUES('16179', 'Igor Mandello')
INSERT INTO MONITOR VALUES('17293', 'Lu�s')

SELECT * FROM MONITOR

CREATE TABLE HORARIO(idHorario int primary key identity,
				     diaDaSemana int not null,
					 horario time not null)
/*Segunda*/
INSERT INTO HORARIO VALUES(2, '7:30')
INSERT INTO HORARIO VALUES(2, '8:20')
INSERT INTO HORARIO VALUES(2, '13:00')
INSERT INTO HORARIO VALUES(2, '18:15')

/*Ter�a*/
INSERT INTO HORARIO VALUES(3, '7:30')
INSERT INTO HORARIO VALUES(3, '13:00')
INSERT INTO HORARIO VALUES(3, '18:15')
INSERT INTO HORARIO VALUES(3, '19:00')
INSERT INTO HORARIO VALUES(3, '19:40')
INSERT INTO HORARIO VALUES(3, '20:20')
INSERT INTO HORARIO VALUES(3, '21:10')

/*Quarta*/
INSERT INTO HORARIO VALUES(4, '13:00')
INSERT INTO HORARIO VALUES(4, '15:45')
INSERT INTO HORARIO VALUES(4, '17:25')
INSERT INTO HORARIO VALUES(4, '18:15')
INSERT INTO HORARIO VALUES(4, '19:00')
INSERT INTO HORARIO VALUES(4, '19:40')

/*Quinta*/
INSERT INTO HORARIO VALUES(5, '7:30')
INSERT INTO HORARIO VALUES(5, '8:20')
INSERT INTO HORARIO VALUES(5, '9:10')
INSERT INTO HORARIO VALUES(5, '10:15')
INSERT INTO HORARIO VALUES(5, '11:05')
INSERT INTO HORARIO VALUES(5, '13:00')
INSERT INTO HORARIO VALUES(5, '15:45')
INSERT INTO HORARIO VALUES(5, '16:35')
INSERT INTO HORARIO VALUES(5, '17:25')
INSERT INTO HORARIO VALUES(5, '18:15')
INSERT INTO HORARIO VALUES(5, '19:00')
INSERT INTO HORARIO VALUES(5, '19:40')
INSERT INTO HORARIO VALUES(5, '20:20')

/*Sexta*/
INSERT INTO HORARIO VALUES(6, '7:30')
INSERT INTO HORARIO VALUES(6, '13:00')

/*S�bado*/
INSERT INTO HORARIO VALUES(7, '8:15')
INSERT INTO HORARIO VALUES(7, '9:00')
INSERT INTO HORARIO VALUES(7, '10:00')
INSERT INTO HORARIO VALUES(7, '10:45')
INSERT INTO HORARIO VALUES(7, '11:30')

SELECT * FROM HORARIO


CREATE TABLE HORARIO_MONITOR(idHorarioMonitor int primary key identity,
							 idHorario int not null,
							 raMonitor VARCHAR(5) not null,
							 constraint fkHorario foreign key (idHorario)
							 references Horario(idHorario),
							 constraint fkMonitor foreign key (raMonitor)
							 references Monitor(raMonitor))
INSERT INTO HORARIO_MONITOR VALUES(2, '16164')
INSERT INTO HORARIO_MONITOR VALUES(2, '16173')
INSERT INTO HORARIO_MONITOR VALUES(2, '16179')
INSERT INTO HORARIO_MONITOR VALUES(2, '16185')

INSERT INTO HORARIO_MONITOR VALUES(3, '16164')
INSERT INTO HORARIO_MONITOR VALUES(3, '16173')
INSERT INTO HORARIO_MONITOR VALUES(3, '16179')
INSERT INTO HORARIO_MONITOR VALUES(3, '16185')

INSERT INTO HORARIO_MONITOR VALUES(4, '16164')
INSERT INTO HORARIO_MONITOR VALUES(4, '16173')
INSERT INTO HORARIO_MONITOR VALUES(4, '16179')
INSERT INTO HORARIO_MONITOR VALUES(4, '16185')

INSERT INTO HORARIO_MONITOR VALUES(5, '16164')
INSERT INTO HORARIO_MONITOR VALUES(5, '16173')

INSERT INTO HORARIO_MONITOR VALUES(6, '16164')
INSERT INTO HORARIO_MONITOR VALUES(6, '16173')
INSERT INTO HORARIO_MONITOR VALUES(6, '16179')
INSERT INTO HORARIO_MONITOR VALUES(6, '16185')

INSERT INTO HORARIO_MONITOR VALUES(7, '16185')

INSERT INTO HORARIO_MONITOR VALUES(8, '16164')
INSERT INTO HORARIO_MONITOR VALUES(8, '16185')

INSERT INTO HORARIO_MONITOR VALUES(9, '16164')
INSERT INTO HORARIO_MONITOR VALUES(9, '16185')
INSERT INTO HORARIO_MONITOR VALUES(9, '17293')

INSERT INTO HORARIO_MONITOR VALUES(10, '16185')
INSERT INTO HORARIO_MONITOR VALUES(10, '17293')

INSERT INTO HORARIO_MONITOR VALUES(11, '16185')
INSERT INTO HORARIO_MONITOR VALUES(11, '17293')

INSERT INTO HORARIO_MONITOR VALUES(12, '16185')
INSERT INTO HORARIO_MONITOR VALUES(12, '17293')

INSERT INTO HORARIO_MONITOR VALUES(13, '16164')
INSERT INTO HORARIO_MONITOR VALUES(13, '16185')

INSERT INTO HORARIO_MONITOR VALUES(14, '16164')
INSERT INTO HORARIO_MONITOR VALUES(14, '16173')

INSERT INTO HORARIO_MONITOR VALUES(15, '17293')

INSERT INTO HORARIO_MONITOR VALUES(16, '16173')
INSERT INTO HORARIO_MONITOR VALUES(16, '16185')

INSERT INTO HORARIO_MONITOR VALUES(17, '16185')

INSERT INTO HORARIO_MONITOR VALUES(18, '16185')

INSERT INTO HORARIO_MONITOR VALUES(19, '16164')
INSERT INTO HORARIO_MONITOR VALUES(19, '16173')
INSERT INTO HORARIO_MONITOR VALUES(19, '16179')

INSERT INTO HORARIO_MONITOR VALUES(20, '16164')
INSERT INTO HORARIO_MONITOR VALUES(20, '16173')
INSERT INTO HORARIO_MONITOR VALUES(20, '16179')

INSERT INTO HORARIO_MONITOR VALUES(21, '16164')

INSERT INTO HORARIO_MONITOR VALUES(22, '17293')

INSERT INTO HORARIO_MONITOR VALUES(23, '17293')

INSERT INTO HORARIO_MONITOR VALUES(24, '16164')
INSERT INTO HORARIO_MONITOR VALUES(24, '16173')
INSERT INTO HORARIO_MONITOR VALUES(24, '16179')
INSERT INTO HORARIO_MONITOR VALUES(24, '16185')

INSERT INTO HORARIO_MONITOR VALUES(25, '17293')

INSERT INTO HORARIO_MONITOR VALUES(26, '17293')

INSERT INTO HORARIO_MONITOR VALUES(27, '17293')

INSERT INTO HORARIO_MONITOR VALUES(28, '16164')
INSERT INTO HORARIO_MONITOR VALUES(28, '17293')

INSERT INTO HORARIO_MONITOR VALUES(29, '16173')
INSERT INTO HORARIO_MONITOR VALUES(29, '16179')
INSERT INTO HORARIO_MONITOR VALUES(29, '17293')

INSERT INTO HORARIO_MONITOR VALUES(30, '16173')
INSERT INTO HORARIO_MONITOR VALUES(30, '16179')
INSERT INTO HORARIO_MONITOR VALUES(30, '17293')

INSERT INTO HORARIO_MONITOR VALUES(31, '16179')

INSERT INTO HORARIO_MONITOR VALUES(32, '16164')
INSERT INTO HORARIO_MONITOR VALUES(32, '16173')
INSERT INTO HORARIO_MONITOR VALUES(32, '16179')
INSERT INTO HORARIO_MONITOR VALUES(32, '16185')

INSERT INTO HORARIO_MONITOR VALUES(33, '16164')
INSERT INTO HORARIO_MONITOR VALUES(33, '16185')

INSERT INTO HORARIO_MONITOR VALUES(34, '16173')
INSERT INTO HORARIO_MONITOR VALUES(34, '16179')

INSERT INTO HORARIO_MONITOR VALUES(35, '16173')
INSERT INTO HORARIO_MONITOR VALUES(35, '16179')

INSERT INTO HORARIO_MONITOR VALUES(36, '16173')
INSERT INTO HORARIO_MONITOR VALUES(36, '16179')
INSERT INTO HORARIO_MONITOR VALUES(36, '17293')

INSERT INTO HORARIO_MONITOR VALUES(37, '16179')
INSERT INTO HORARIO_MONITOR VALUES(37, '17293')

INSERT INTO HORARIO_MONITOR VALUES(38, '16179')

SELECT * FROM HORARIO_MONITOR

GO
CREATE PROCEDURE sp_select_horario_monitor
AS
SELECT M.raMonitor, M.nome, H.diaDaSemana, H.horario 
FROM MONITOR M, HORARIO H, HORARIO_MONITOR HM    
WHERE HM.idHorario = H.idHorario and
	  HM.raMonitor = M.raMonitor

exec sp_select_horario_monitor

GO
CREATE PROCEDURE sp_select_horario_monitor_ra
@ra varchar(5)
AS
SELECT M.raMonitor, M.nome, H.diaDaSemana, H.horario 
FROM MONITOR M, HORARIO H, HORARIO_MONITOR HM    
WHERE HM.idHorario = H.idHorario and
	  HM.raMonitor = M.raMonitor and
	  M.raMonitor = @ra
	  
exec sp_select_horario_monitor_ra '16179'